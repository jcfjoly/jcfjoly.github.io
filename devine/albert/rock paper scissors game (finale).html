<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>rock paper scissors</title>
</head>
<style>
body{
	background-image: url(background.jpg);
	background-size:cover;
	}

#div1{
background-color:#FF9;
width: 720px;
height: 100px;
border: 3px solid black;
position: relative;
top:75px;
left:23.5%;

}
#div2{
width:800px;
height:400px;
border: 2px solid black;
background-color:#FF6;
position:absolute;
top:140px;
left:-40px;

}
#div3{
	width:100px;
	height:100px;
	border: 1px solid black;
	background-image: url(ciseaux.jpg);
	background-size:100% 100%;
	position:absolute;
	top:30px;
	right:80px;

}
#div3:hover{
	width: 120px;
	height: 120px;
}
#div4{
	width:100px;
	height:100px;
	border: 1px solid black;
	background-image: url(roche.jpg);
	background-size:100% 100%;
	position:absolute;
	top:30px;
	left:80px;
}
#div4:hover{
	width: 120px;
	height: 120px;
}
#div5{
	width:100px;
	height:100px;
	border: 1px solid black;
	background-image: url(papier.jpg);
	background-size:100% 100%;
	position:absolute;
	top:30px;
	left:350px;
}
#div5:hover{
	width: 120px;
	height: 120px;
}
#hp1{
	width:50px;
	height:50px;
	background-image: url(life.jpg);
	background-size: 100% 100%;
	position:absolute;
	top:150px;
	left:200px;
}
#hp2{
	width:50px;
	height:50px;
	background-image: url(life.jpg);
	background-size: 100% 100%;
	position:absolute;
	top:150px;
	left:380px;
}
#hp3{
	width:50px;
	height:50px;
	background-image: url(life.jpg);
	background-size: 100% 100%;
	position:absolute;
	top:150px;
	right:200px;
}
#divC{
	width:100px;
	height:100px;
	border: 1px solid black;
	background-image: url(ciseaux.jpg);
	background-size:100% 100%;
	position:absolute;
	top:250px;
	left:350px;
	display:none;
	
}
#divR{
	width:100px;
	height:100px;
	border: 1px solid black;
	background-image: url(roche.jpg);
	background-size:100% 100%;
	position:absolute;
	top:250px;
	left:350px;
	display:none;
	
}
#divP{
	width:100px;
	height:100px;
	border: 1px solid black;
	background-image: url(papier.jpg);
	background-size:100% 100%;
	position:absolute;
	top:250px;
	left:350px;
	display:none;
	
}
#losing{
	width: 800px;
	height: 400px;
	background-color: black;
	position:fixed;
	top:228px;
	left:21.25%;
	display:none;

}
#winning{
	width: 800px;
	height: 400px;
	background-color:white;
	position:fixed;
	top:228px;
	left:21.25%;
	display:none;

}
#timer{
	width:800px;
	height:25px;
	border: 1px solid black;
	background-color:red;
	position: absolute;
	bottom: 0px;
	}

</style>

<body>
<div id="div1">
	<p 
	style="color:maroon;
	font-family: verdana;
	font-size: 250%;
	text-align: center;">Roche | Papier | Ciseaux</p>
	
	<div id="div2">
		<div id="hp1"></div>
		<div id="hp2"></div>
		<div id="hp3"></div>
		<div id="div3" onclick="scissors()"></div>
		<div id="div4" onclick="rock()"></div>
		<div id="div5" onclick="paper()"></div>
		<div id="divC"></div>
		<div id="divR"></div>
		<div id="divP"></div>
		<div id="timer"></div>
	</div>
	
</div>
<div id="losing" style="color:white; font-family: Arial, Helvetica, sans-serif; text-align: center; font-size: 300%;">You lose</div>
<div id="winning" style="color:black; font-family: Arial, Helvetica, sans-serif; text-align: center; font-size: 300%;">You win</div>




<script>

var win;
var goal = 3;
var removeHp;
var hp = 3;
var time = 800;


function rock(){
var choixOrdi=Math.ceil(Math.random()*3) 

	if (choixOrdi==1){
		document.getElementById("divR").style.display="block";
		document.getElementById("divP").style.display="none";
		document.getElementById("divC").style.display="none";
		removeHp = false;
		win = false;
	}


	if (choixOrdi==2){
		document.getElementById("divP").style.display="block";
		document.getElementById("divC").style.display="none";
		document.getElementById("divR").style.display="none";
		removeHp = true;
		win = false;
	}


	if (choixOrdi==3){
		document.getElementById("divC").style.display="block";
		document.getElementById("divP").style.display="none";
		document.getElementById("divR").style.display="none";
		removeHp = false;
		win = true;
	}
	verif();
	youWin();
}

function paper(){
var choixOrdi=Math.ceil(Math.random()*3); 

	if(choixOrdi==1){
		document.getElementById("divR").style.display="block";
		document.getElementById("divP").style.display="none";
		document.getElementById("divC").style.display="none";
		removeHp = false;
		win = true;
	}


	if(choixOrdi==2){
		document.getElementById("divP").style.display="block";
		document.getElementById("divR").style.display="none";
		document.getElementById("divC").style.display="none";
		removeHp = false;
		win = false;
	}


	if(choixOrdi==3){
		document.getElementById("divC").style.display="block";
		document.getElementById("divP").style.display="none";
		document.getElementById("divR").style.display="none";
		removeHp = true;
		win = false;
	}
	verif();
	youWin();
}

function scissors(){
var choixOrdi=Math.ceil(Math.random()*3);

	if(choixOrdi==1){
		document.getElementById("divR").style.display="block";
		document.getElementById("divP").style.display="none";
		document.getElementById("divC").style.display="none";
		removeHp = true;
		win = false;
	}


	if(choixOrdi==2){
		document.getElementById("divP").style.display="block";
		document.getElementById("divR").style.display="none";
		document.getElementById("divC").style.display="none";
		removeHp = false;
		win = true;
	}


	if(choixOrdi==3){
		document.getElementById("divC").style.display="block";
		document.getElementById("divP").style.display="none";
		document.getElementById("divR").style.display="none";
		removeHp = false;	
		win = false;
	}
	verif();
	youWin();
}

function verif() {

	if (removeHp == true) {
		hp--;
		if (hp == 2) {
			
			document.getElementById("hp3").style.display="none";
		}
		if (hp == 1) {
			document.getElementById("hp2").style.display="none";
		}
		if (hp == 0) {
			document.getElementById("hp1").style.display="none";
		}
	}

	timeOut();
}
function youWin(){
	if(win == true){
		goal--;
		if(goal==0){
			document.getElementById("winning").style.display="block";
		}
	}
}


console.log(hp);

function timeOut() {
	if (document.getElementById("hp1").style.display=="none") {
		setTimeout(youLose,2000);
	}
}

function youLose(){
	document.getElementById("losing").style.display="block";
}
setInterval(tic,1)
function tic(){
	time=time-0.05
	document.getElementById("timer").style.width=time+"px"
	if (time<0){
		document.getElementById("losing").style.display="block";	
	}
}
</script>


</body>

</html>
