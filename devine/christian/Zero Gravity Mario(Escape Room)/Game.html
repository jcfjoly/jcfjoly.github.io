<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0058)file:///P:/Concentration%20sec%204/Escape%20Room/Game.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Document sans nom</title>
<style>

	#cadreTotal{
		width:1250px;
		height:700px;
		position:relative;
		margin:auto;
		}
	#level{
		width:95px;
		height:70px;
		position:absolute;
		top:35px;
		left:0px;
		border:2px black solid;
		border-radius:10px;
		background-color:yellow;
		text-align:center;
		font-size:20px;
		padding-top:10px;
		font-family: 'Permanent Marker', cursive;
		}
	#auteur{
		width:300px;
		height:16px;
		position:absolute;
		padding-bottom:5px;
		padding-left:20px;
		top:2px;
		left:120px;
		border:2px black solid;
		border-radius:10px;
		background-color:yellow;
		font-family: 'Permanent Marker', cursive;
		font-size:14px;
		}
	#cadreJeu{
		width:1000px;
		height:700px;
		position:absolute;
		top:35px;
		left:120px;
		border:5px black solid;
		border-radius:10px;
		background-image:url(images/bg.jpg);
		background-size: 1000px 700px;
		}
	#Mario{
        width : 150px;
        height : 150px;
		background-image: url(images/StandingMario.png);
		background-size: contain;
        position: absolute;
		visibility: visible;
        top: 490px;
        left: 100px;
        }
	#Cage{
        width : 190px;
        height : 190px;
		background-image: url(images/Cage.png);
		background-size: contain;
        position: absolute;
		visibility: visible;
        top: 456px;
        left: 68px;
        }
	#P-Switch{
        width : 93px;
        height : 105.75px;
		background-image: url(images/P-Switch.png);
		background-size: contain;
        position: absolute;
		visibility: visible;
        top: 540px;
        left: 815px;
        }
	#Pipe{
        width : 170px;
        height : 170px;
		background-image: url(images/Tuyau.jpg);
		background-size: contain;
        position: absolute;
		visibility: hidden;
        top: 0px;
        left: 770px;
		transform: rotate(180deg);
        }
	#key{
        width : 100px;
        height : 100px;
		background-image: url(images/Keys.png);
		background-size: contain;
        position: absolute;
		visibility: hidden;
		cursor: pointer;
		top: 225px;
        left: 500px;
        }
	#Block1{
		width:60px;
		height:75px;
		position:absolute;
		top: 322px;
		left: 77px;
		background-color:black;
		visibility: visible;
		cursor: pointer;
		opacity: 0.001 ;
		}
	#Block2{
		width:60px;
		height:75px;
		position:absolute;
		top: 322px;
		left: 395px;
		background-color:black;
		visibility: visible;
		cursor: pointer;
		opacity: 0.001 ;
		}
	#Block3{
		width:60px;
		height:75px;
		position:absolute;
		top: 322px;
		left: 517px;
		background-color:black;
		visibility: visible;
		cursor: pointer;
		opacity: 0.001 ;
		}
	#Block4{
		width:60px;
		height:75px;
		position:absolute;
		top: 7px;
		left: 455px;
		background-color:black;
		visibility: visible;
		cursor: pointer;
		opacity: 0.001 ;
		}
	#textBox{
		width:300px;
		height:100px;
		position:absolute;
		padding-bottom:5px;
		padding-left:20px;
		top:15px;
		left:650px;
		border:2px white solid;
		border-radius:5px;
		background-color:black;
		visibility: hidden;
		}
	#textBox2{
		width:300px;
		height:100px;
		position:absolute;
		padding-bottom:5px;
		padding-left:20px;
		top:15px;
		left:650px;
		border:2px white solid;
		border-radius:5px;
		background-color:black;
		visibility: hidden;
		}
	#textBox3{
		width:300px;
		height:100px;
		position:absolute;
		padding-bottom:5px;
		padding-left:20px;
		top:15px;
		left:650px;
		border:2px white solid;
		border-radius:5px;
		background-color:black;
		visibility: hidden;
		}
	#textBox4{
		width:980px;
		height:690px;
		position:absolute;
		padding-bottom:5px;
		padding-left:20px;
		left: -5px;
		border:5px black solid;
		border-radius:10px;
		background-color:black;
		visibility: visible;
		opacity: 0.8;
		}
	#Start{
		width:100px;
		height:50px;
		position:absolute;
		padding-bottom:5px;
		padding-left:20px;
		left: 425px;
		top: 500px;
		border:5px black solid;
		border-radius:10px;
		background-color:white;
		visibility: visible;
		}
	#Start:hover{
		background-color: grey;       
		width: 100px;
		height: 50px;
		cursor: pointer;
		}	
	h1{
        font-size: 30px;
        color: white;
        font-family: 'Permanent Marker', cursive;
        margin-top: 5px;
	}
	h2{
        font-size: 20px;
        color: white;
        font-family: 'Permanent Marker', cursive;
        margin-top: 5px;
	}
	h3{
        font-size: 30px;
        color: white;
        font-family: 'Permanent Marker', cursive;
        margin-top: 20px;
		text-align: center;
	}
	h4{
        font-size: 30px;
        color: black;
        font-family: 'Permanent Marker', cursive;
        margin-top: 5px;
	}
	@keyframes hover {
        from {color: white;}
        to {color: grey;}
        }

</style></head>

<body onload="Music()">
    <div id="cadreTotal">
        <div id="level"> Niveau <br> 1 / 12</div>
        <div id="auteur" onclick="nextLevel()"> <b>Conception : Christian-Xavier Huneault 404</b></div>
        <div id="cadreJeu">
			<div id="Mario"></div>

			<div id="Cage" onclick="OpenCage()"></div>
			<div id="P-Switch"></div>
			<div id="Pipe"></div>
			<div id="key" onclick= "KeyCursor()"></div>

			<div id="textBox"> <h1>Nothing too see here...*</h1></div>
			<div id="textBox2"> <h2>You found the key! Quickly bring it to Mario to help him escape*</h2></div>
            <div id="textBox3"> <h2>You freed Mario! Use the keyboard arrow to go to the next stage*</h2></div>
			<div id="textBox4"> <h3>Mario is stuck in jail ! You need to get him out !* </br></br></br>
				Tips : Go check the golden boxes, you might found something interesting...*</h3></div>
			
			<div id="Start" onclick="Start()"> <h4>Start</h4></div>
			<div id="Block1" onclick="Nothing()"></div>
			<div id="Block2" onclick="Nothing()"></div>
			<div id="Block3" onclick="Something()"></div>
			<div id="Block4" onclick="Nothing()"></div>

		</div>		
	</div>
    
    
    <script>	
var x = 100
var y = 490
var Mario = document.getElementById("Mario")

var IntroTextBox = document.getElementById("textBox4")
var textBox = document.getElementById("textBox")
var textBox = document.getElementById("textBox2")
var textBox = document.getElementById("textBox3")

var keyArt = document.getElementById("key")
var CageDisplay = document.getElementById("cage")
CageDisplay = true


var MusicPrincipale = new Audio("SMB-Theme.mp3")
	MusicPrincipale.src="Music/SMB-Theme.mp3"
var CoinEffect = new Audio("SMB-Coin.mp3")
	CoinEffect.src="Music/SMB-Coin.mp3"
var NothingEffect = new Audio("SMB-Shell.mp3")
	NothingEffect.src="Music/SMB-Shell.mp3"
var KeyChain = new Audio("SMB-KeyChain.mp3")
	KeyChain.src="Music/SMB-KeyChain.mp3"
var Lock = new Audio("LockSound.mp3")
	Lock.src="Music/LockSound.mp3"
var Button = new Audio("Button.mp3")
	Button.src="Music/Button.mp3"


    function Music(){	 
		MusicPrincipale.play()
    }

document.addEventListener("keydown", clavier)

 
	function Start(){
		document.getElementById("textBox4").setAttribute("style", "visibility: hidden")
		document.getElementById("Start").setAttribute("style", "visibility: hidden")
	}

	function Nothing(){
		Vistext()
		NothingEffect.play()

		if(Vistext){
			setTimeout(Hidtext, 2000)
		}
	}

	function Something(){
		Vistext2()
		KeyVis()
		CoinEffect.play()
		
		if(Vistext2){
			setTimeout(Hidtext2, 3000)
		}
	}
	
	function ExistText(){
		Vistext3()
		KeyVis()
		
		if(Vistext3){
			setTimeout(Hidtext3, 5000)
		}
	}
	
	
	function KeyCursor(){
		document.getElementById("cadreTotal").style.cursor = "url(images/KeysCursor.png), auto"
		document.getElementById("key").setAttribute("style", "visibility: hidden")
		KeyChain.play()
		CageDisplay = false
	}
	
	function KeyVis(){
		document.getElementById("key").setAttribute("style", "visibility: visible")
	}
	
	function OpenCage(){
		ExistText()
		Lock.play()
		
		if(CageDisplay == false){
			document.getElementById("Cage").setAttribute("style", "visibility: hidden")
			document.getElementById("cadreTotal").style.cursor = "auto"
			document.getElementById("key").setAttribute("style", "visibility: hidden")
			}
		}
	
	
//////////////////////////////////////////////Optimise ce code si tu as le temps
	function Hidtext(){
		document.getElementById("textBox").setAttribute("style", "visibility: hidden")
	}

	function Vistext(){
		document.getElementById("textBox").setAttribute("style", "visibility: visible")
	}
// 
	function Hidtext2(){
		document.getElementById("textBox2").setAttribute("style", "visibility: hidden")
	}

	function Vistext2(){
		document.getElementById("textBox2").setAttribute("style", "visibility: visible")
	}
//
	function Hidtext3(){
		document.getElementById("textBox3").setAttribute("style", "visibility: hidden")
	}

	function Vistext3(){
		document.getElementById("textBox3").setAttribute("style", "visibility: visible")
	}
//////////////////////////////////////////////

		
	function Hid(){
			Mario.style.display = "none"
		}
	function vis(){
			Mario.style.display = "block"
		}

	function CageBarrier(){
		while(CageDisplay){
			console.log("true")
		}
	}

	function clavier(e){
		console.log(y)
		if(CageDisplay == false){
			
				if(e.keyCode==37&&x>20){
					x-=20
				}
				if(e.keyCode==39&&x<880){
					x+=20
					if(e.keyCode==39&&x>800 ){
						document.getElementById("Pipe").setAttribute("style", "visibility: visible")
						document.getElementById("P-Switch").setAttribute("style", "visibility: hidden")
						Button.play()
					}
				}
				if(e.keyCode==38){
					y-=115
					if(e.keyCode==38&&y<50 ){
						nextLevel()
					}
				}
			Mario.style.top=y+"px"
			Mario.style.left=x+"px"
			
		}
		
	}
	
	function nextLevel(){
		window.location="test.html"
	}
    </script>


</body>
</html>