<!DOCTYPE HTML>
<html>
<head>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Construction de PC (Partie 2) - Jeu d'Évasion</title>
<link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">
<style>
/* Cadre global NE PAS MODIFER, exepté couleur et images d'arrière-plan. */
#cadreTotal{
	width:1250px;
	height:700px;
	position:relative;
	margin:auto;
	}
#level{
	width:95px;
	height:70px;
	position:absolute;
	top:35px;
	left:0px;
	border:2px white solid;
	border-radius:10px;
	background-color:lightgreen;
	text-align:center;
	font-size:20px;
	padding-top:10px;
	font-family: 'Permanent Marker', cursive;
	}
#auteur{
	width:250px;
	height:16px;
	position:absolute;
	padding-bottom:5px;
	padding-left:20px;
	top:2px;
	left:120px;
	border:2px white solid;
	border-radius:10px;
	background-color:lightgreen;
	font-family: 'Permanent Marker', cursive;
	font-size:14px;
	}
#cadreJeu{
	width:1000px;
	height:700px;
	position:absolute;
	top:35px;
	left:120px;
	border:2px white solid;
	border-radius:10px;
	background-color:lightgreen;
	}
/*Commencez VOTRE CSS ici*/	
body{background-color:black}
#cadreJeu{
	position:relative;
	font-family: 'Quicksand', sans-serif;
}
/* Composants placés adéquatement dans le boîtier */
#mobo{
	background-image: url(images/mobo.png);
	background-size:cover;
	width:400px;
	height:460px;
	position:relative;
	top:60px;
	left:47px;
	opacity:0%;
}
#psu{
	background-image: url(images/psu.png);
	background-size:cover;
	width:285px;
	height:155px;
	position:relative;
	top:22px;
	left:55px;
	opacity:0%;
}
#gpu{
	background-image: url(images/gpu-top.png);
	background-size:cover;
	width:435px;
	height:95px;
	position:relative;
	top:-325px;
	left:55px;
	opacity:0%;
}
#case{
	background-image: url(images/case.png);
	background-size:cover;
	width:1000px;
	height:700px;
	position:relative;
	top:0px;
	border-radius: 10px;
}
/* Endroit qu'il faut cliquer pour le placement de la carte mère */
#moboClick{
	position: absolute;
	width:380px;
	height:420px;
	opacity: 0%;
	top:90px;
	left:50px;
}
/* Inventaire */
#inventory{
    position: absolute;
    top: 80px;
    left: 830px;
}
#inventory2{
    position: absolute;
    top: 80px;
    left: 830px;
}
li{
    width: 100px;
    height: 100px;
    list-style: none;
    margin: 3px;
    border: 3px black solid;
    background-color: #4E4C4C;
}
#invMobo{background-image: url(images/moboicon.png); display: none;}
#invGPU{background-image: url(images/gpuicon.png); display: none;}
#invPSU{background-image: url(images/psuicon.png); display: none;}
#invScrewdriver{background-image: url(images/screwdrivericon.png); display: none;}
#invMobo2{background-image: url(images/moboicon.png);}
#invGPU2{background-image: url(images/gpuicon.png);}
#invPSU2{background-image: url(images/psuicon.png);}
#invScrewdriver2{background-image: url(images/screwdrivericon.png);}
.invSize{
	width: 100px;
	height: 100px;
	background-size: contain;
	background-repeat: no-repeat;
}
/* Deuxième page non-active */
#pageConstruction{ display:none; visibility: hidden}
/* Composants sur table */
#tableMobo{background-image: url(images/mobo.png); left:50px; top:-50px;}
#tableGPU{background-image: url(images/gpu.png); left:250px; top:-30px;}
#tablePSU{background-image: url(images/psu.png); left:450px; }
#tableScrewdriver{background-image: url(images/screwdrivericon.png); left:600px; top:-30px;}
.tableAdjust{
	background-size:contain;
	background-repeat:no-repeat;
	width:150px;
	height:150px;
	position:absolute;
}
/* Texte de vérification (1ère page) */
#guidage{
	font-size: 30px;
	position:relative;
	top:590px;
	text-align: center;
}
/* Placement table */
#table{
	background-image: url(images/table.png);
	width:850px;
	height:600px;
	background-size: contain;
	background-repeat:no-repeat;
	align-items: center;
	position:relative;
	top:130px;
}
/* Prochaine page */
#suivant{
	position: absolute;
	width:100px;
	height:100px;
	top:10px;
	left:10px;
	background-size:contain;
	background-repeat:no-repeat;
	background-image: url(images/suivant.png);
	display:none;
}
/* Guidage deuxième page */
#instructionsDiv{
	position:absolute;
	bottom: 10px;
	left: 5px;
	background-color: gray;
	padding-left: 5px;
	padding-right: 5px;
	border-radius: 10px;
}
#instructions{
	font-size: 20px;
	margin-top:5px;
	margin-bottom:5px;
	color: white;
}
/* Indices */
#indicesDiv{
	position:absolute;
	top: 10px;
	right: 30px;
	background-color: gray;
	padding-left: 10px;
	padding-right: 10px;
	border-radius: 10px;
}
#indices{
	font-size: 30px;
	margin-top:10px;
	margin-bottom:10px;
	color: white;
}
#moboIndice{
	background-image: url(images/moboindice.png);
	background-size:cover;
	width:400px;
	height:460px;
	position:absolute;
	top:60px;
	left:47px;
	opacity:0%;
}
#psuIndice{
	background-image: url(images/psuindice.png);
	background-size:cover;
	width:285px;
	height:155px;
	position:absolute;
	bottom:62px;
	left:55px;
	opacity:0%;
	display:none;
}
#gpuIndice{
	background-image: url(images/gpu-topindice.png);
	background-size:cover;
	width:435px;
	height:95px;
	position:absolute;
	top:290px;
	left:35px;
	opacity:0%;
}
/* Vissage */
.screws{
	background-image: url(images/screw.png);
	background-size:cover;
	width:40px;
	height:40px;
	position:absolute;
}
#screw1{
	top:85px;
	left:115px;
	display:none;
}
#screw2{
	top:85px;
	left:295px;
	display:none;
}
#screw3{
	top:85px;
	left:395px;
	display:none;
}
#screw4{
	top:295px;
	left:80px;
	display:none;
}
#screw5{
	top:295px;
	left:295px;
	display:none;
}
#screw6{
	top:295px;
	left:395px;
	display:none;
}
#screw7{
	top:462px;
	left:80px;
	display:none;
}
#screw8{
	top:462px;
	left: 295px;
	display:none;
}
#screw9{
	top:462px;
	left: 395px;
	display:none;
}
/* Titre */
#titre{
	font-size: 40px;
	position:absolute;
	text-align: center;
	top:-20px;
	left: 20px;
}
</style>
</head>
<body>
    <div id="cadreTotal">
        <div id="level"> Niveau <br/> 1 / 12</div>
        <div id="auteur" onClick="nextLevel()"> <b>Conception : Adrien Lesage 409</b></div>
        <div id="cadreJeu">
			<div id="inventory">
                <ul>
                    <li class="invSize" id="invMobo" onclick="selectMotherboard()"></li>
                    <li class="invSize" id="invGPU" onclick="selectGPU()"></li>
                    <li class="invSize" id="invPSU" onclick="selectPSU()"></li>
                    <li class="invSize" id="invScrewdriver" onclick="selectScrewdriver()"></li>
                </ul>
            </div>
		<!------------------------------------------Page 1---------------------------------------------->
		<div id=pagePieces>
			<p id=titre>Construction de PC (Partie 2)</p>
			<p id=guidage>Appuyer sur "Entrer" pour commencer!</p>
			<div id=table>
				<div id="tableMobo" class="tableAdjust" onclick="moboCheck()"></div>
				<div id="tableGPU" class="tableAdjust" onclick="gpuCheck()"></div>
				<div id="tablePSU" class="tableAdjust" onclick="psuCheck()"></div>
				<div id="tableScrewdriver" class="tableAdjust" onclick="screwdriverCheck()"></div>
			</div>
		</div>
		<!------------------------------------------Page 2---------------------------------------------->
		<div id=pageConstruction>
		<div id=case>
			<div id=mobo></div>
			<div id=moboIndice></div>
			<div id=moboClick onclick="moboClick()"></div>
			<div id=psu></div>
			<div id=psuIndice onclick="psuClick()"></div>
			<div id=gpu></div>
			<div id=gpuIndice onclick="gpuClick()"></div>
			<div class=screws id=screw1 onclick="screw1()"></div>
			<div class=screws id=screw2 onclick="screw2()"></div>
			<div class=screws id=screw3 onclick="screw3()"></div>
			<div class=screws id=screw4 onclick="screw4()"></div>
			<div class=screws id=screw5 onclick="screw5()"></div>
			<div class=screws id=screw6 onclick="screw6()"></div>
			<div class=screws id=screw7 onclick="screw7()"></div>
			<div class=screws id=screw8 onclick="screw8()"></div>
			<div class=screws id=screw9 onclick="screw9()"></div>
		</div>
		<div id="inventory2">
			<ul>
				<li class="invSize" id="invMobo2" onclick="selectMotherboard()"></li>
				<li class="invSize" id="invGPU2" onclick="selectGPU()"></li>
				<li class="invSize" id="invPSU2" onclick="selectPSU()"></li>
				<li class="invSize" id="invScrewdriver2" onclick="selectScrewdriver()"></li>
			</ul>
		</div>
		<div id=indicesDiv onclick="indices()">
			<p id=indices>Indices</p>
		</div>
		<div id=instructionsDiv>
			<p id=instructions>Équipez-vous de la carte mère et déposez-là dans le boîtier.</p>
		<div id=moboPower></div>
		<div id=cpuPower></div>
		</div>
        </div>
		<!--Suivant-->
		<div id="suivant" onclick="prochain()"></div>
    </div>
    <script>
	//Variables qui indique au jeu sur quelle page il est (pour éviter de pouvoir s'équiper d'un pièce de l'inventaire lors de la recherche de pièces)
	var page1=true
	var page2=false
	//Variable utilisée pour la vérification lors du placement de pièces.
	var objInvSelect=0
	//Variable utilisée pour sauvegarder la progression
	var progression=1
	//Nombreuses variables qui ont rapport avec le nombre d'essais
	var nbEssais=0
	var nbEssais2=1
	var bonEssais=0
	var nbIndices=0
	var indice2PSU=false
	var indice2GPU=false
	//Audio
	var sonSucces=new Audio()
	sonSucces.src="sons/succes.wav"
	var sonErreur=new Audio()
	sonErreur.src="sons/erreur.wav"
	var sonDebut=new Audio()
	sonDebut.src="sons/debut.wav"
	var sonMessage=new Audio()
	sonMessage.src="sons/message.wav"
	//Départ du jeu
	var startJeu=false
	//Indices page 1
	var guidage=document.getElementById("guidage")
	//Array avec les choix de composants
	var arrayChoix=["la carte mère","la carte graphique","l'alimentation","le tournevis",""]
	var arrayComposant=""
	var numRandom
	var nbArray=4
	//Fonctions qui équipent le joueur de la pièce lors de l'assemblage à la deuxième page
	function selectMotherboard(){
		if (page2==true && progression==1){
			document.getElementById("cadreJeu").style.cursor="url(images/moboicon.png),auto"
			document.getElementById("invMobo2").style.border="3px black solid"
			objInvSelect=1
			console.log("Sélection = la carte mère")
		}else if (page2==true && progression!=1){
			sonErreur.play()
		}}
	function selectGPU(){
		if (page2==true && progression==4){
			document.getElementById("cadreJeu").style.cursor="url(images/gpucursor.png),auto"
			document.getElementById("invGPU2").style.border="3px black solid"
			objInvSelect=2
			console.log("Sélection = la carte graphique")
		}else if (page2==true && progression!=4){
			sonErreur.play()
		}}
	function selectPSU(){
		if (page2==true && progression==3){
			document.getElementById("cadreJeu").style.cursor="url(images/psucursor.png),auto"
			document.getElementById("invPSU2").style.border="3px black solid"
			objInvSelect=3
			console.log("Sélection = l'alimentation")
		}else if (page2==true && progression!=3){
			sonErreur.play()
		}}
	function selectScrewdriver(){
		if (page2==true && progression==2){
			document.getElementById("cadreJeu").style.cursor="url(images/screwdrivericon.png),auto"
			document.getElementById("invScrewdriver2").style.border="3px black solid"
			objInvSelect=4
			console.log("Sélection = le tournevis")
		}else if (page2==true && progression!=2){
			sonErreur.play()
		}}
	//Fonctions éxécutées lorsque les pièces sont cliquées sur la première page
	function moboCheck(){
		if (startJeu==true && arrayComposant=="la carte mère"){
			sonSucces.play()
			nbEssais=nbEssais+1
			bonEssais=bonEssais+1
			nbArray=nbArray-1
			arrayChoix.splice(numRandom,1)
			console.log(arrayChoix)
			console.log("Bon essais: "+bonEssais)
			console.log(nbEssais)
			document.getElementById("invMobo").style.display="inherit"
			document.getElementById("tableMobo").style.display="none"
			setTimeout(startCycle, 1500)

		}else if (startJeu==true && arrayComposant!="la carte mère"){
			console.log("Mauvais choix!")
			sonErreur.play()
			nbEssais=nbEssais+1
			console.log(nbEssais)
			guidage.innerHTML="Bah non! Vous deviez cliquer sur "+arrayComposant+"!"
			setTimeout(startCycle, 1500)
		}else if (startJeu==false){
			guidage.innerHTML="Vous deviez appuyer sur une touche de clavier pour commencer!"
			sonMessage.play()
		}
	}
	function gpuCheck(){
		if (startJeu==true && arrayComposant=="la carte graphique"){
			sonSucces.play()
			nbEssais=nbEssais+1
			bonEssais=bonEssais+1
			nbArray=nbArray-1
			arrayChoix.splice(numRandom,1)
			console.log(arrayChoix)
			console.log("Bon essais: "+bonEssais)
			console.log(nbEssais)
			document.getElementById("invGPU").style.display="inherit"
			document.getElementById("tableGPU").style.display="none"
			setTimeout(startCycle, 1500)

		}else if (startJeu==true && arrayComposant!="la carte graphique"){
			console.log("Mauvais choix!")
			sonErreur.play()
			nbEssais=nbEssais+1
			console.log(nbEssais)
			guidage.innerHTML="Bah non! Vous deviez cliquer sur "+arrayComposant+"!"
			setTimeout(startCycle, 1500)
		}else if (startJeu==false){
			guidage.innerHTML="Vous deviez appuyer sur une touche de clavier pour commencer!"
			sonMessage.play()
		}
	}
	function psuCheck(){
		if (startJeu==true && arrayComposant=="l'alimentation"){
			sonSucces.play()
			nbEssais=nbEssais+1
			bonEssais=bonEssais+1
			nbArray=nbArray-1
			arrayChoix.splice(numRandom,1)
			console.log(arrayChoix)
			console.log("Bon essais: "+bonEssais)
			console.log(nbEssais)
			document.getElementById("invPSU").style.display="inherit"
			document.getElementById("tablePSU").style.display="none"
			setTimeout(startCycle, 1500)

		}else if (startJeu==true && arrayComposant!="l'alimentation"){
			console.log("Mauvais choix!")
			sonErreur.play()
			nbEssais=nbEssais+1
			console.log(nbEssais)
			guidage.innerHTML="Bah non! Vous deviez cliquer sur "+arrayComposant+"!"
			setTimeout(startCycle, 1500)
		}else if (startJeu==false){
			guidage.innerHTML="Vous deviez appuyer sur une touche de clavier pour commencer!"
			sonMessage.play()
		}
	}
	function screwdriverCheck(){
		if (startJeu==true && arrayComposant=="le tournevis"){
			sonSucces.play()
			nbEssais=nbEssais+1
			bonEssais=bonEssais+1
			nbArray=nbArray-1
			arrayChoix.splice(numRandom,1)
			console.log(arrayChoix)
			console.log("Bon essais: "+bonEssais)
			console.log(nbEssais)
			document.getElementById("invScrewdriver").style.display="inherit"
			document.getElementById("tableScrewdriver").style.display="none"
			setTimeout(startCycle, 1500)

		}else if (startJeu==true && arrayComposant!="le tournevis"){
			console.log("Mauvais choix!")
			sonErreur.play()
			nbEssais=nbEssais+1
			console.log(nbEssais)
			guidage.innerHTML="Bah non! Vous deviez cliquer sur "+arrayComposant+"!"
			setTimeout(startCycle, 1500)
		}else if (startJeu==false){
			guidage.innerHTML="Vous deviez appuyer sur une touche de clavier pour commencer!"
			sonMessage.play()
		}
	}
	//Générateur de chiffre
	function numberGenerator(){
		numRandom=Math.floor(Math.random()*nbArray)
	}
	//Choix aléatoire
	function pickRandom(){
		numberGenerator()
		arrayComposant=arrayChoix[numRandom]
		console.log(arrayComposant)
	}
	//Départ du jeu après avoir appuyer sur Entrer
	function startGame(){
		startJeu=true
		console.log("startJeu = "+startJeu)
		console.log("Jeu commencé!")
		document.getElementById("titre").style.display="none"
		sonDebut.play()
		startCycle()
	}
	//Fonction qui choisi la pièce aléatoirement et nous dis quelle c'est
	function startCycle(){
		if (bonEssais==4){
			guidage.innerHTML="Bravo! Vous avez trouvé toutes les pièces en "+nbEssais+" essais! Vous pouvez maintenant passer à l'assemblage!"
			document.getElementById("suivant").style.display="block"
		}else{
			pickRandom()
			console.log("Le chiffre généré est le "+numRandom+". Vous devrez donc cliquer sur "+arrayComposant+".")
			guidage.innerHTML="Cliquer sur "+arrayComposant+"!"
		}
	}
	//Préparation de l'inventaire à la deuxième page
	function startDeuxieme(){
		document.getElementById("invMobo").style.display="inherit"
		document.getElementById("invGPU").style.display="inherit"
		document.getElementById("invPSU").style.display="inherit"
		document.getElementById("invScrewdriver").style.display="inherit"
	}
	//Event listener pour Entrer
	document.addEventListener('keypress', function (e){
    if (e.key === 'Enter' && startJeu==false) {startGame()} })
	//Prochaine page/niveau
	function prochain(){
		if (page1==true){
			document.getElementById("pagePieces").style.display="none"
			document.getElementById("pagePieces").style.visibility="hidden"
			document.getElementById("pageConstruction").style.visibility="visible"
			document.getElementById("pageConstruction").style.display="block"
			document.getElementById("suivant").style.display="none"
			document.getElementById("suivant").style.backgroundImage="url(images/suivantgris.png)"
			page1=false
			page2=true
			startDeuxieme()
		}else if (page2==true){
			nextLevel()
		}
	}
	//Indices
	function indices(){
		if (progression==1){
			document.getElementById("moboIndice").style.opacity="100%"
			document.getElementById("instructions").innerHTML="Déposez la carte mère dans l'encerclement rouge"
			document.getElementById("invMobo2").style.border="3px red solid"
			nbIndices=nbIndices+1
			console.log("Nombre d'indices utilisés: "+nbIndices)
		}else if (progression==2){
			document.getElementById("instructions").innerHTML="Aucun indice disponible"
			document.getElementById("invScrewdriver2").style.border="3px red solid"
			nbIndices=nbIndices+1
			console.log("Nombre d'indices utilisés: "+nbIndices)
		}else if (progression==3 && indice2PSU==false){
			document.getElementById("instructions").innerHTML="Déposez l'alimentation en bas à gauche du boîtier"
			document.getElementById("invPSU2").style.border="3px red solid"
			nbIndices=nbIndices+1
			console.log("Nombre d'indices utilisés: "+nbIndices)
			indice2PSU=true
		}else if (progression==4 && indice2GPU==false){
			document.getElementById("instructions").innerHTML="Insérez la carte graphique dans la longue fente horizontale du haut"
			document.getElementById("invGPU2").style.border="3px red solid"
			nbIndices=nbIndices+1
			console.log("Nombre d'indices utilisés: "+nbIndices)
			indice2GPU=true
		}else if (progression==3 && indice2PSU==true){
			document.getElementById("psuIndice").style.opacity="100%"
			document.getElementById("instructions").innerHTML="Déposez l'alimentation dans l'encerclement rouge"
			nbIndices=nbIndices+1
			console.log("Nombre d'indices utilisés: "+nbIndices)
		}else if (progression==4 && indice2GPU==true){
			document.getElementById("gpuIndice").style.opacity="100%"
			document.getElementById("instructions").innerHTML="Déposez la carte graphique dans l'encerclement rouge"
			nbIndices=nbIndices+1
			console.log("Nombre d'indices utilisés: "+nbIndices)
		}
	}
	//Étape 1
	function moboClick(){
		if (progression==1 && objInvSelect==1){
			document.getElementById("mobo").style.opacity="100%"
			document.getElementById("moboIndice").style.opacity="0%"
			document.getElementById("cadreJeu").style.cursor="default"
			document.getElementById("instructions").innerHTML="Vissez la carte mère au boîtier"
			document.getElementById("screw1").style.display="block"
			sonSucces.play()
			progression=progression+1
		}
	//Étape 2
	}
	function screw1(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw1").style.display="none"
			document.getElementById("screw2").style.display="block"
		}
	}
	function screw2(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw2").style.display="none"
			document.getElementById("screw3").style.display="block"
		}
	}
	function screw3(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw3").style.display="none"
			document.getElementById("screw4").style.display="block"
		}
	}
	function screw4(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw4").style.display="none"
			document.getElementById("screw5").style.display="block"
		}
	}
	function screw5(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw5").style.display="none"
			document.getElementById("screw6").style.display="block"
		}
	}
	function screw6(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw6").style.display="none"
			document.getElementById("screw7").style.display="block"
		}
	}
	function screw7(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw7").style.display="none"
			document.getElementById("screw8").style.display="block"
		}
	}
	function screw8(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw8").style.display="none"
			document.getElementById("screw9").style.display="block"
		}
	}
	function screw9(){
		if (progression==2 && objInvSelect==4){
			document.getElementById("screw9").style.display="none"
			document.getElementById("cadreJeu").style.cursor="default"
			document.getElementById("instructions").innerHTML="Installez l'alimentation dans le boîtier"
			document.getElementById("psuIndice").style.display="block"
			sonSucces.play()
			progression=progression+1
		}
	}
	//Étape 3
	function psuClick(){
		if (progression==3 && objInvSelect==3){
			document.getElementById("psuIndice").style.display="none"
			document.getElementById("psu").style.opacity="100%"
			document.getElementById("cadreJeu").style.cursor="default"
			document.getElementById("instructions").innerHTML="Installez la carte graphique sur la carte mère"
			sonSucces.play()
			progression=progression+1
		}
	}
	//Étape 4
	function gpuClick(){
		if (progression==4 && objInvSelect==2){
			document.getElementById("gpuIndice").style.display="none"
			document.getElementById("gpu").style.opacity="100%"
			document.getElementById("cadreJeu").style.cursor="default"
			document.getElementById("instructions").innerHTML="Bravo! Vous avez enfin completé le jeu! Vous avez utilisé "+nbIndices+" indice(s)! Cliquez sur le bouton pour continuer votre parcours!"
			document.getElementById("instructionsDiv").style.backgroundColor="lightgreen"
			document.getElementById("instructions").style.color="black"
			document.getElementById("suivant").style.display="inherit"
			sonSucces.play()
		}
	}
	//Prochain niveau
	function nextLevel(){
		//cette fonction sera exécutée à la fin de votre tableau pour passer au tableau suivant
		window.location="test.html"
		}
    </script>
</body>
</html>